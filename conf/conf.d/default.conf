ssl_certificate        gohelpfund.com.crt;
ssl_certificate_key    gohelpfund.com.key;
ssl_protocols       TLSv1 TLSv1.1 TLSv1.2;
ssl_ciphers         HIGH:!aNULL:!MD5;


server {
    listen       80;
    server_name  bal.gohelpfund.com;
    set $url_suffix /live-event;
    return       301 https://$host$url_suffix;
}

server {
    listen       80;
    listen       443 ssl;
    server_name  www.bal.gohelpfund.com;
    set $url_suffix /live-event;
    return       301 https://bal.gohelpfund.com$url_suffix;
}

server {
    listen       80  default_server;
    server_name  localhost dev-beta.gohelpfund.com beta.gohelpfund.com;
    return       301 https://$host$request_uri;
}

server {
  listen 443 ssl;
  server_name  bal.gohelpfund.com;

  set $url_suffix "/live-event";

  location = / {
      rewrite ^ https://$host$url_suffix permanent;
      }
  location / {
     root   /usr/share/nginx/html;
     index  index.html index.htm;
     try_files $uri $uri/ /index.html;
   }
   error_page   500 502 503 504  /50x.html;
   location = /50x.html {
     root   /usr/share/nginx/html;
   }

}

server {
  listen 443 ssl default_server;
  server_name  localhost dev-beta.gohelpfund.com beta.gohelpfund.com;

  set $url_suffix "/home";

  location = / {
        rewrite ^ https://$host$url_suffix permanent;
        }

  location / {
    root   /usr/share/nginx/html;
    index  index.html index.htm;
    try_files $uri $uri/ /index.html;
  }
  error_page   500 502 503 504  /50x.html;
  location = /50x.html {
    root   /usr/share/nginx/html;
  }
}